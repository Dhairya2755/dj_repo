<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>project</title>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" rel="stylesheet"/>
<script crossorigin="anonymous" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

</head>
<style>
    html, body {
      height: 100%;
      margin: 0;
     background: linear-gradient(to right, #2c3e50, #4ca1af);
    }
  </style>
<body>
<nav class="navbar navbar-expand-lg bg-body-tertiary">
<div class="container-fluid">
   <img src="/media/logo.jpg" 
     alt="Login Banner"
     style="display: block; margin: 0 auto -10px auto; width: 50px; height: 50px; object-fit: contain;">
<a class="navbar-brand" href="{% url 'index_inner' %}">TECHNOVA</a>
<button aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-bs-target="#navbarScroll" data-bs-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarScroll">
<ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
<!-- My Activities Dropdown -->
<li class="nav-item dropdown">
<a aria-expanded="false" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button">
            My Activities
          </a>
<ul class="dropdown-menu">
<li><a class="dropdown-item" href="{% url 'claims_page' %}">Claims</a></li>
<li><a class="dropdown-item" href="{% url 'claim_status' %}">Claims Status</a></li>
<li><a class="dropdown-item" href="{% url 'proof_status' %}">Proof Status</a></li>
<li><hr class="dropdown-divider"/></li>
<li><a class="dropdown-item" href="{% url 'loan_history' %}">Apply Loans</a></li>
</ul>
</li>
<!-- Download Centre Dropdown -->
<li class="nav-item dropdown">
<a aria-expanded="false" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button">
            Download Centre
          </a>
<ul class="dropdown-menu">
<li><a class="dropdown-item" href="{% url 'salary' %}">Salary Slips & Documentation</a></li>
<li><a class="dropdown-item" href="{% url 'my_acceptance' %}">My Acceptance</a></li>
</ul>
</li>
<!-- My Joining Dropdown -->
<li class="nav-item dropdown">
<a aria-expanded="false" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button">
            My Joining
          </a>
<ul class="dropdown-menu">
<li><a class="dropdown-item" href="{% url 'generalinfo' %}">General Information</a></li>
<li><a class="dropdown-item" href="{% url 'qualification' %}">Qualification</a></li>
<li><a class="dropdown-item" href="{% url 'induction' %}">Induction Feedback</a></li>
<li><a class="dropdown-item" href="{% url 'family_info' %}">Mediclaim Details</a></li>
<li><a class="dropdown-item" href="{% url 'updategeneral' %}">General Information Update</a></li>
</ul>
</li>
<!-- policies & circulars Dropdown -->
<li class="nav-item dropdown">
<a aria-expanded="false" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button">
            Policies &amp; Circulars 
          </a>
<ul class="dropdown-menu">
<li><a class="dropdown-item" href="{% url 'policy_and_circular' %}">Policies &amp; Circulars</a></li>
</ul>
</li>
<!-- Search Form -->
<div class="d-flex align-items-center ms-auto">
  {% if request.session.employee_name %}
    <span class="me-3 text-black fw-bold">Welcome, {{ request.session.employee_name }}</span>
  {% endif %}

  <!-- Timer Display -->
  <span id="session-timer" class="me-3 text-muted small fw-semibold"></span>

  <!-- Logout Button -->
  <a href="{% url 'logout' %}" class="btn btn-danger">Logout</a>
</div>

{% if request.session.start_time %}
<script>
  const REDIRECT_URL = "{% url 'emplogin' %}";
  const SESSION_DURATION = 15 * 60 * 1000; // 15 minutes

  // Use string to avoid JS syntax error, then convert to number
  const sessionStart = Number("{{ request.session.start_time|floatformat:'0' }}") * 1000;
  const currentTime = Date.now();
  const elapsed = currentTime - sessionStart;
  let remainingTime = SESSION_DURATION - elapsed;

  const timerDisplay = document.getElementById("session-timer");

  function updateTimerDisplay() {
    const minutes = Math.floor(remainingTime / 1000 / 60);
    const seconds = Math.floor((remainingTime / 1000) % 60);
    timerDisplay.textContent = `Your Current Session Will Expire in: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
  }

  const countdownInterval = setInterval(() => {
    remainingTime -= 1000;
    updateTimerDisplay();
    if (remainingTime <= 0) {
      clearInterval(countdownInterval);
      alert("Session expired. Redirecting...");
      window.location.href = REDIRECT_URL;
    }
  }, 1000);

  updateTimerDisplay();
</script>
{% endif %}
</div>
</div>
</nav>

{% block body %}
{% endblock %}


<footer class="mt-4" style="background: linear-gradient(to right, #2c3e50, #4ca1af); color: white; ">
  <div class="container text-center">
    <div class="row">
      <div class="col-md-4 mb-3">
        <h5>TechNova Inc.</h5>
        <p style="font-size: 14px;">Smart solutions for smarter workforce. Built for performance, designed for people.</p>
      </div>
      <div class="col-md-4 mb-3">
        <h6>Quick Access</h6>
        <ul class="list-unstyled" style="font-size: 14px;">
          <li><a href="{% url 'claims_page' %}" class="text-white text-decoration-none">My Activities</a></li>
          <li><a href="{% url 'salary' %}" class="text-white text-decoration-none">Download Centre</a></li>
          <li><a href="{% url 'generalinfo' %}" class="text-white text-decoration-none">My Joining</a></li>
          <li><a href="{% url 'policy_and_circular' %}" class="text-white text-decoration-none">Policies & Circulars</a></li>
          
</div>
<div class="col-md-4 mb-3">
<h3>NEWSLETTER</h3>
<p>Subscribe For Latest Updates</p>
<input class="email" placeholder="your email" type="email"/>
<input class="btn-btn-danger" type="submit" value="Subscribe"/>
</div>
</div>
<hr class="border-light"/>
<div style="font-size: 13px;text-align: center;">Â© {{ current_year }} TechNova Inc. | All rights reserved.</div>
</div>
</footer>
</body>
</html>
